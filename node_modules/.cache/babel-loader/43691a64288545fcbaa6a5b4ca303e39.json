{"ast":null,"code":"var _jsxFileName = \"/Users/nemanjamijucic/Documents/React/Reader-app/reader-app/src/store/book-context.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BookContext = /*#__PURE__*/React.createContext({\n  currReadingbooks: [],\n  readedBooks: [],\n  showModal: \"\",\n  idForModal: \"\",\n  setBooksToLS: (name, item) => {},\n  addToReadedBooksList: item => {},\n  showModalHandler: () => {},\n  getIdForModal: () => {}\n});\nexport const BookContextProvider = props => {\n  _s();\n\n  const [currentlyReading, setCurrentlyReading] = useState(JSON.parse(localStorage.getItem(books)));\n  const [readedBooks, setReadedBooks] = useState([]);\n  const [showModal, setShowModal] = useState(false);\n  const [idForModal, setIdForModal] = useState(\"\");\n\n  const addToReadingList = item => {\n    item.currentlyReading = true;\n    let readingBooks = [];\n\n    if (localStorage.getItem(\"books\")) {\n      readingBooks.push(item);\n      localStorage.setItem(\"books\", JSON.stringify(readingBooks));\n    }\n\n    if (localStorage.getItem(\"books\") !== null) {\n      readingBooks = JSON.parse(localStorage.getItem(\"books\"));\n      setCurrentlyReading(readingBooks);\n      const found = readingBooks.some(book => book.title === item.title);\n\n      if (!found) {\n        readingBooks = [...readingBooks, item];\n        localStorage.setItem(\"books\", JSON.stringify(readingBooks));\n      }\n    }\n\n    setCurrentlyReading(readingBooks);\n  }; //function for readed books\n\n\n  const addToReadedBooksList = item => {\n    let readedBooksList = [];\n    item.readed = true;\n\n    if (localStorage.getItem(\"readedBooks\") === null) {\n      readedBooksList.push(item);\n      localStorage.setItem(\"readedBooks\", JSON.stringify(readedBooksList));\n    }\n\n    if (localStorage.getItem(\"readedBooks\") !== null) {\n      readedBooksList = JSON.parse(localStorage.getItem(\"readedBooks\"));\n      const found = readedBooksList.some(book => book.title === item.title);\n\n      if (!found) {\n        readedBooksList = [...readedBooksList, item];\n        localStorage.setItem(\"readedBooks\", JSON.stringify(readedBooksList));\n      }\n    }\n\n    setReadedBooks(readedBooksList); //deleteing from currently reading array in LS when clicked on readed book\n\n    if (localStorage.getItem(\"books\")) {\n      let readingBooks = [JSON.parse(localStorage.getItem(\"books\"))];\n      readingBooks = readingBooks.filter(book => book.id !== item.id).map(book => book);\n      localStorage.removeItem(\"books\");\n      setCurrentlyReading(readingBooks);\n      console.log(readingBooks);\n      localStorage.setItem(\"books\", JSON.stringify(readingBooks));\n    }\n  }; // //function for showing modal with book info\n\n\n  const showModalHandler = () => {\n    setShowModal(prevState => !prevState);\n  };\n\n  const getIdForModal = id => {\n    setIdForModal(id);\n  };\n\n  useEffect(() => {\n    if (localStorage.getItem(\"books\")) {\n      setCurrentlyReading(JSON.parse(localStorage.getItem(\"books\")));\n    }\n\n    if (localStorage.getItem(\"readedBooks\")) {\n      setReadedBooks(JSON.parse(localStorage.getItem(\"readedBooks\")));\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(BookContext.Provider, {\n    value: {\n      currReadingbooks: currentlyReading,\n      readedBooks: readedBooks,\n      showModal: showModal,\n      idForModal: idForModal,\n      setBooksToLS: addToReadingList,\n      addToReadedBooksList: addToReadedBooksList,\n      showModalHandler: showModalHandler,\n      getIdForModal: getIdForModal\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 5\n  }, this);\n};\n\n_s(BookContextProvider, \"F6xXanY3Rszccc7Jk4ZYO0QRik0=\");\n\n_c = BookContextProvider;\nexport default BookContext;\n\nvar _c;\n\n$RefreshReg$(_c, \"BookContextProvider\");","map":{"version":3,"names":["React","useState","useEffect","BookContext","createContext","currReadingbooks","readedBooks","showModal","idForModal","setBooksToLS","name","item","addToReadedBooksList","showModalHandler","getIdForModal","BookContextProvider","props","currentlyReading","setCurrentlyReading","JSON","parse","localStorage","getItem","books","setReadedBooks","setShowModal","setIdForModal","addToReadingList","readingBooks","push","setItem","stringify","found","some","book","title","readedBooksList","readed","filter","id","map","removeItem","console","log","prevState","children"],"sources":["/Users/nemanjamijucic/Documents/React/Reader-app/reader-app/src/store/book-context.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nconst BookContext = React.createContext({\n  currReadingbooks: [],\n  readedBooks: [],\n  showModal: \"\",\n  idForModal: \"\",\n  setBooksToLS: (name, item) => {},\n  addToReadedBooksList: (item) => {},\n  showModalHandler: () => {},\n  getIdForModal: () => {},\n});\n\nexport const BookContextProvider = (props) => {\n  const [currentlyReading, setCurrentlyReading] = useState(\n    JSON.parse(localStorage.getItem(books))\n  );\n  const [readedBooks, setReadedBooks] = useState([]);\n  const [showModal, setShowModal] = useState(false);\n  const [idForModal, setIdForModal] = useState(\"\");\n\n  const addToReadingList = (item) => {\n    item.currentlyReading = true;\n\n    let readingBooks = [];\n    if (localStorage.getItem(\"books\")) {\n      readingBooks.push(item);\n\n      localStorage.setItem(\"books\", JSON.stringify(readingBooks));\n    }\n\n    if (localStorage.getItem(\"books\") !== null) {\n      readingBooks = JSON.parse(localStorage.getItem(\"books\"));\n      setCurrentlyReading(readingBooks);\n\n      const found = readingBooks.some((book) => book.title === item.title);\n\n      if (!found) {\n        readingBooks = [...readingBooks, item];\n        localStorage.setItem(\"books\", JSON.stringify(readingBooks));\n      }\n    }\n    setCurrentlyReading(readingBooks);\n  };\n\n  //function for readed books\n  const addToReadedBooksList = (item) => {\n    let readedBooksList = [];\n    item.readed = true;\n    if (localStorage.getItem(\"readedBooks\") === null) {\n      readedBooksList.push(item);\n\n      localStorage.setItem(\"readedBooks\", JSON.stringify(readedBooksList));\n    }\n    if (localStorage.getItem(\"readedBooks\") !== null) {\n      readedBooksList = JSON.parse(localStorage.getItem(\"readedBooks\"));\n      const found = readedBooksList.some((book) => book.title === item.title);\n\n      if (!found) {\n        readedBooksList = [...readedBooksList, item];\n        localStorage.setItem(\"readedBooks\", JSON.stringify(readedBooksList));\n      }\n    }\n\n    setReadedBooks(readedBooksList);\n\n    //deleteing from currently reading array in LS when clicked on readed book\n    if (localStorage.getItem(\"books\")) {\n      let readingBooks = [JSON.parse(localStorage.getItem(\"books\"))];\n      readingBooks = readingBooks\n        .filter((book) => book.id !== item.id)\n        .map((book) => book);\n      localStorage.removeItem(\"books\");\n      setCurrentlyReading(readingBooks);\n      console.log(readingBooks);\n      localStorage.setItem(\"books\", JSON.stringify(readingBooks));\n    }\n  };\n\n  // //function for showing modal with book info\n  const showModalHandler = () => {\n    setShowModal((prevState) => !prevState);\n  };\n\n  const getIdForModal = (id) => {\n    setIdForModal(id);\n  };\n\n  useEffect(() => {\n    if (localStorage.getItem(\"books\")) {\n      setCurrentlyReading(JSON.parse(localStorage.getItem(\"books\")));\n    }\n\n    if (localStorage.getItem(\"readedBooks\")) {\n      setReadedBooks(JSON.parse(localStorage.getItem(\"readedBooks\")));\n    }\n  }, []);\n\n  return (\n    <BookContext.Provider\n      value={{\n        currReadingbooks: currentlyReading,\n        readedBooks: readedBooks,\n        showModal: showModal,\n        idForModal: idForModal,\n        setBooksToLS: addToReadingList,\n        addToReadedBooksList: addToReadedBooksList,\n        showModalHandler: showModalHandler,\n        getIdForModal: getIdForModal,\n      }}\n    >\n      {props.children}\n    </BookContext.Provider>\n  );\n};\n\nexport default BookContext;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}