{"ast":null,"code":"var _jsxFileName = \"/Users/nemanjamijucic/Documents/React/Reader-app/reader-app/src/store/book-context.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BookContext = /*#__PURE__*/React.createContext({\n  books: [],\n  readedBooks: [],\n  setBooksToLS: (name, item) => {},\n  addToReadedBooksList: item => {}\n});\nexport const BookContextProvider = props => {\n  _s();\n\n  const [currentlyReading, setCurrentlyReading] = useState([]);\n  const [readedBooks, setReadedBooks] = useState([]);\n\n  const addToReadingList = item => {\n    item.currentlyReading = true;\n    let readingBooks = [];\n\n    if (localStorage.getItem(\"books\") === null) {\n      readingBooks.push(item);\n      localStorage.setItem(\"books\", JSON.stringify(readingBooks));\n    }\n\n    if (localStorage.getItem(\"books\") !== null) {\n      readingBooks = JSON.parse(localStorage.getItem(\"books\"));\n      console.log(readingBooks);\n      setCurrentlyReading(readingBooks);\n      const found = readingBooks.some(book => book.title === item.title);\n\n      if (!found) {\n        readingBooks = [...readingBooks, item];\n        localStorage.setItem(\"books\", JSON.stringify(readingBooks));\n      }\n    }\n\n    setCurrentlyReading(readingBooks);\n  }; //function for readed books\n\n\n  const addToReadedBooksList = item => {\n    let readedBooksList = [];\n    item.readed = true;\n\n    if (localStorage.getItem(\"readedBooks\") === null) {\n      readedBooksList.push(item);\n      localStorage.setItem(\"readedBooks\", JSON.stringify(readedBooksList));\n    }\n\n    if (localStorage.getItem(\"readedBooks\") !== null) {\n      readedBooksList = JSON.parse(localStorage.getItem(\"readedBooks\"));\n      const found = readedBooksList.some(book => book.title === item.title);\n\n      if (!found) {\n        readedBooksList = [...readedBooksList, item];\n        localStorage.setItem(\"readedBooks\", JSON.stringify(readedBooksList));\n      }\n    }\n\n    setReadedBooks(readedBooksList);\n  };\n\n  useEffect(() => {\n    if (localStorage.getItem(\"books\")) {\n      setCurrentlyReading(JSON.parse(localStorage.getItem(\"books\")));\n    }\n\n    if (localStorage.getItem(\"readedBooks\")) {\n      setReadedBooks(JSON.parse(localStorage.getItem(\"readedBooks\")));\n    }\n  }, []);\n  console.log(currentlyReading);\n  console.log(readedBooks);\n  return /*#__PURE__*/_jsxDEV(BookContext.Provider, {\n    value: {\n      books: currentlyReading,\n      readedBooks: readedBooks,\n      setBooksToLS: addToReadingList,\n      addToReadedBooksList: addToReadedBooksList\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n};\n\n_s(BookContextProvider, \"umsztJEanEEeuNn60FWdaZQQyUQ=\");\n\n_c = BookContextProvider;\nexport default BookContext;\n\nvar _c;\n\n$RefreshReg$(_c, \"BookContextProvider\");","map":{"version":3,"names":["React","useState","useEffect","BookContext","createContext","books","readedBooks","setBooksToLS","name","item","addToReadedBooksList","BookContextProvider","props","currentlyReading","setCurrentlyReading","setReadedBooks","addToReadingList","readingBooks","localStorage","getItem","push","setItem","JSON","stringify","parse","console","log","found","some","book","title","readedBooksList","readed","children"],"sources":["/Users/nemanjamijucic/Documents/React/Reader-app/reader-app/src/store/book-context.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nconst BookContext = React.createContext({\n  books: [],\n  readedBooks: [],\n  setBooksToLS: (name, item) => {},\n  addToReadedBooksList: (item) => {},\n});\n\nexport const BookContextProvider = (props) => {\n  const [currentlyReading, setCurrentlyReading] = useState([]);\n  const [readedBooks, setReadedBooks] = useState([]);\n\n  const addToReadingList = (item) => {\n    item.currentlyReading = true;\n\n    let readingBooks = [];\n    if (localStorage.getItem(\"books\") === null) {\n      readingBooks.push(item);\n\n      localStorage.setItem(\"books\", JSON.stringify(readingBooks));\n    }\n\n    if (localStorage.getItem(\"books\") !== null) {\n      readingBooks = JSON.parse(localStorage.getItem(\"books\"));\n      console.log(readingBooks);\n      setCurrentlyReading(readingBooks);\n\n      const found = readingBooks.some((book) => book.title === item.title);\n\n      if (!found) {\n        readingBooks = [...readingBooks, item];\n        localStorage.setItem(\"books\", JSON.stringify(readingBooks));\n      }\n    }\n    setCurrentlyReading(readingBooks);\n  };\n\n  //function for readed books\n  const addToReadedBooksList = (item) => {\n    let readedBooksList = [];\n    item.readed = true;\n    if (localStorage.getItem(\"readedBooks\") === null) {\n      readedBooksList.push(item);\n\n      localStorage.setItem(\"readedBooks\", JSON.stringify(readedBooksList));\n    }\n    if (localStorage.getItem(\"readedBooks\") !== null) {\n      readedBooksList = JSON.parse(localStorage.getItem(\"readedBooks\"));\n      const found = readedBooksList.some((book) => book.title === item.title);\n\n      if (!found) {\n        readedBooksList = [...readedBooksList, item];\n        localStorage.setItem(\"readedBooks\", JSON.stringify(readedBooksList));\n      }\n    }\n    setReadedBooks(readedBooksList);\n  };\n\n  useEffect(() => {\n    if (localStorage.getItem(\"books\")) {\n      setCurrentlyReading(JSON.parse(localStorage.getItem(\"books\")));\n    }\n\n    if (localStorage.getItem(\"readedBooks\")) {\n      setReadedBooks(JSON.parse(localStorage.getItem(\"readedBooks\")));\n    }\n  }, []);\n\n  console.log(currentlyReading);\n  console.log(readedBooks);\n  return (\n    <BookContext.Provider\n      value={{\n        books: currentlyReading,\n        readedBooks: readedBooks,\n        setBooksToLS: addToReadingList,\n        addToReadedBooksList: addToReadedBooksList,\n      }}\n    >\n      {props.children}\n    </BookContext.Provider>\n  );\n};\n\nexport default BookContext;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}