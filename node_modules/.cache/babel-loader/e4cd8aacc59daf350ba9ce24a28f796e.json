{"ast":null,"code":"import{Fragment,useContext}from\"react\";import ReactDOM from\"react-dom\";import Button from\"./Button\";import BookContext from\"../../store/book-context\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faCheckCircle,faCircleXmark}from\"@fortawesome/free-solid-svg-icons\";import classes from\"./Modal.module.css\";//background div when displaying modal\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Backdrop=function Backdrop(props){return/*#__PURE__*/_jsx(\"div\",{className:classes.backdrop,onClick:props.onClose});};//div where content for modal will be displayed\nvar ModalOverlay=function ModalOverlay(props){return/*#__PURE__*/_jsx(\"div\",{className:classes.modal,children:/*#__PURE__*/_jsx(\"div\",{className:classes.content,children:props.children})});};//function for content for modal\nvar Content=function Content(_ref){var books=_ref.books,bookCtx=_ref.bookCtx;return books.filter(function(book){return book.id===bookCtx.idForModal;}).map(function(book){console.log(book,bookCtx.idForModal,\"jel radi\");return/*#__PURE__*/_jsxs(\"div\",{className:classes.info,children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{src:book.cover?\"https://covers.openlibrary.org/b/id/\".concat(book.cover,\"-M.jpg?default=false\"):\"https://blog.springshare.com/wp-content/uploads/2010/02/nc-md.gif\",alt:\"no cover found\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"h3\",{children:book.title})}),/*#__PURE__*/_jsxs(\"li\",{children:[\"id: \",book.id]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"author: \",book.author]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"language: \",book.language?book.language[0]:\"unknown\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"published: \",book.publishDate?book.publishDate:\"unknown\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"publisher: \",book.publisher?book.publisher:\"unknown\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"readed status:\",book.readed?/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCheckCircle,className:classes.icon}):/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCircleXmark,className:classes.icon})]})]})})]});});};var portalElement=document.getElementById(\"overlays\");var Modal=function Modal(_ref2){var books=_ref2.books;var bookCtx=useContext(BookContext);return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/ReactDOM.createPortal(/*#__PURE__*/_jsx(Backdrop,{onClose:bookCtx.showModalHandler}),portalElement),/*#__PURE__*/ReactDOM.createPortal(/*#__PURE__*/_jsxs(ModalOverlay,{children:[/*#__PURE__*/_jsx(Content,{books:books,bookCtx:bookCtx},Math.random()),/*#__PURE__*/_jsx(Button,{onClick:bookCtx.showModalHandler,children:\"Close details\"},Math.random())]}),portalElement)]});};export default Modal;","map":{"version":3,"names":["Fragment","useContext","ReactDOM","Button","BookContext","FontAwesomeIcon","faCheckCircle","faCircleXmark","classes","Backdrop","props","backdrop","onClose","ModalOverlay","modal","content","children","Content","books","bookCtx","filter","book","id","idForModal","map","console","log","info","cover","title","author","language","publishDate","publisher","readed","icon","portalElement","document","getElementById","Modal","createPortal","showModalHandler","Math","random"],"sources":["/Users/nemanjamijucic/Documents/React/Reader-app/reader-app/src/components/UI/Modal.js"],"sourcesContent":["import { Fragment, useContext } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Button from \"./Button\";\nimport BookContext from \"../../store/book-context\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faCheckCircle,\n  faCircleXmark,\n} from \"@fortawesome/free-solid-svg-icons\";\n\nimport classes from \"./Modal.module.css\";\n\n//background div when displaying modal\nconst Backdrop = (props) => {\n  return <div className={classes.backdrop} onClick={props.onClose} />;\n};\n\n//div where content for modal will be displayed\nconst ModalOverlay = (props) => {\n  return (\n    <div className={classes.modal}>\n      <div className={classes.content}>{props.children}</div>\n    </div>\n  );\n};\n\n//function for content for modal\nconst Content = ({ books, bookCtx }) => {\n  return books\n    .filter((book) => book.id === bookCtx.idForModal)\n    .map((book) => {\n      console.log(book, bookCtx.idForModal, \"jel radi\");\n      return (\n        <div className={classes.info}>\n          <div>\n            <img\n              src={\n                book.cover\n                  ? `https://covers.openlibrary.org/b/id/${book.cover}-M.jpg?default=false`\n                  : \"https://blog.springshare.com/wp-content/uploads/2010/02/nc-md.gif\"\n              }\n              alt=\"no cover found\"\n            ></img>\n          </div>\n          <div>\n            <ul>\n              <li>\n                <h3>{book.title}</h3>\n              </li>\n              <li>id: {book.id}</li>\n              <li>author: {book.author}</li>\n\n              <li>language: {book.language ? book.language[0] : \"unknown\"}</li>\n\n              <li>\n                published: {book.publishDate ? book.publishDate : \"unknown\"}\n              </li>\n              <li>publisher: {book.publisher ? book.publisher : \"unknown\"}</li>\n              <li>\n                readed status:\n                {book.readed ? (\n                  <FontAwesomeIcon\n                    icon={faCheckCircle}\n                    className={classes.icon}\n                  />\n                ) : (\n                  <FontAwesomeIcon\n                    icon={faCircleXmark}\n                    className={classes.icon}\n                  />\n                )}\n              </li>\n            </ul>\n          </div>\n        </div>\n      );\n    });\n};\n\nconst portalElement = document.getElementById(\"overlays\");\n\nconst Modal = ({ books }) => {\n  const bookCtx = useContext(BookContext);\n  return (\n    <Fragment>\n      {ReactDOM.createPortal(\n        <Backdrop onClose={bookCtx.showModalHandler} />,\n        portalElement\n      )}\n      {ReactDOM.createPortal(\n        <ModalOverlay>\n          <Content books={books} bookCtx={bookCtx} key={Math.random()} />\n          <Button onClick={bookCtx.showModalHandler} key={Math.random()}>\n            Close details\n          </Button>\n        </ModalOverlay>,\n        portalElement\n      )}\n    </Fragment>\n  );\n};\n\nexport default Modal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}